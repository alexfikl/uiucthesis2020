% {{{ packages

\usepackage{blindtext}

% math
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{stmaryrd}
\usepackage{cases}

% pretty links
\usepackage{xparse}
\usepackage{hyperref}
\usepackage[nameinlink]{cleveref}
\hypersetup{
    colorlinks=true,
    urlcolor=blue,
    citecolor=black,
    linkcolor=black
}

% better environments
\usepackage[shortlabels]{enumitem}
\usepackage{booktabs}
\usepackage{caption}

% graphics
\usepackage{tikz}
\usetikzlibrary{calc}

% fancier font
\usepackage[sc]{mathpazo}
% better typography
\usepackage[activate={true,nocompatibility}, % activate protrusion and font expansion
            final,              % enable microtype, use draft to disable
            tracking=true,
            kerning=true,       % optimise interactions between characters
            spacing=true,       % more uniform spacing between words
            factor=1100,        % more protrusion
            stretch=10,         % smaller values (default 20, 20) to avoid blurring
            shrink=10]{microtype}
\microtypecontext{spacing=nonfrench}
\SetTracking{encoding={*}, shape=sc}{40}

% }}}

% {{{ formatting

% enable section numbering only for the first three header levels
\setcounter{secnumdepth}{2}

% caption format
% NOTE: set format=plain to remove caption indentation
\captionsetup{
    format=hang
}

\definecolor{UIUCOrange}{RGB}{255, 99, 64}

% }}}

% {{{ commands

\NewDocumentCommand \dx { O{x} } {\,\mathrm{d} #1}
\NewDocumentCommand \vect { m } { \mathbold{#1} }
\NewDocumentCommand \jump { m } { \left\llbracket #1 \right\rrbracket }
\NewDocumentCommand \avg { m } { \left\langle #1 \right\rangle}
\NewDocumentCommand \od { m m } { \dfrac{\mathrm{d} #1}{\mathrm{d} #2} }
\NewDocumentCommand \pd { m m } { \dfrac{\partial #1}{\partial #2} }

\DeclareMathOperator{\tr}{tr}

% }}}

% {{{ environments

\NewDocumentCommand \newtheoremin { m m m } {
    \newtheorem{#1}{#2}
    \numberwithin{#1}{#3}
}
\newtheoremin{example}{Example}{section}
\newtheoremin{remark}{Remark}{section}
\newtheoremin{definition}{Definition}{section}
\newtheoremin{proposition}{Proposition}{section}
\newtheoremin{lemma}{Lemma}{section}
\newtheoremin{theorem}{Theorem}{section}

% }}}
